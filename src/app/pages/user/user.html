<app-topbar
  [user]="currentUser"
  (logout)="onTopbarLogout()"
  (openProfile)="onOpenProfile()">
</app-topbar>

<section class="user-page">
  <header class="user-page__header">
    <div class="user-page__hello">
      <h1>Bem-vindo, {{ currentUser?.name || 'UsuÃ¡rio' }} ğŸ‘‹</h1>
      <p class="muted">Aqui estÃ¡ um resumo rÃ¡pido dos seus chamados.</p>
    </div>

    <div class="user-page__actions">
      <a class="btn btn--primary" routerLink="/tickets/new">Abrir chamado</a>
      <a class="btn" routerLink="/tickets">Ver todos</a>
    </div>
  </header>

  <section class="cards">
    <article class="card">
      <span class="card__label">Abertos por vocÃª</span>
      <strong class="card__value">{{ myOpenCount }}</strong>
      <a routerLink="/tickets" [queryParams]="{ filter: 'my-open' }" class="card__link">ver detalhes</a>
    </article>

    <article class="card">
      <span class="card__label">AtribuÃ­dos a mim</span>
      <strong class="card__value">{{ assignedToMeCount }}</strong>
      <a routerLink="/tickets" [queryParams]="{ filter: 'assigned' }" class="card__link">ver detalhes</a>
    </article>

    <article class="card">
      <span class="card__label">Em andamento</span>
      <strong class="card__value">{{ inProgressCount }}</strong>
      <a routerLink="/tickets" [queryParams]="{ filter: 'in-progress' }" class="card__link">ver detalhes</a>
    </article>

    <article class="card">
      <span class="card__label">Resolvidos (30d)</span>
      <strong class="card__value">{{ resolved30dCount }}</strong>
      <a routerLink="/tickets" [queryParams]="{ filter: 'resolved-30d' }" class="card__link">ver detalhes</a>
    </article>
  </section>

  <section class="shortcuts">
    <a routerLink="/profile" class="shortcut">
      <span>ğŸ‘¤</span> Meu perfil
    </a>
    <a routerLink="/knowledge" class="shortcut">
      <span>ğŸ“š</span> Base de conhecimento
    </a>
    <a routerLink="/tickets/new" class="shortcut">
      <span>ğŸ“</span> Abrir chamado
    </a>
  </section>
</section>
