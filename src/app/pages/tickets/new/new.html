<form class="card form" (ngSubmit)="submit()">
  <label>
    <span>Título</span>
    <input class="input" [(ngModel)]="title" name="title" required />
  </label>

  <label>
    <span>Descrição</span>
    <textarea class="input" rows="5" [(ngModel)]="description" name="description"></textarea>
  </label>

  <div class="grid-2">
    <label>
      <span>Prioridade</span>
      <select class="input" [(ngModel)]="priority" name="priority" required>
        <option value="LOW">Baixa</option>
        <option value="MEDIUM">Média</option>
        <option value="HIGH">Alta</option>
      </select>
    </label>

    <label>
      <span>Categoria</span>
      <!-- required + sem opção nula (ou use uma placeholder desabilitada) -->
      <select class="input" [(ngModel)]="categoryId" name="categoryId" required>
        <option value="" disabled selected>Selecione…</option>
        @for (c of categories; track c.id) {
          <!-- use [value] com string e converta no TS, ou [ngValue] mantendo number -->
          <option [value]="c.id">{{ c.name }}</option>
        }
      </select>
    </label>
  </div>

  <div class="actions">
    <button class="btn btn--primary" [disabled]="loading()" type="submit">
      @if (loading()) { Criando… } @else { Criar }
    </button>
    <a class="btn" routerLink="/tickets">Cancelar</a>
  </div>

  @if (error()) { <div class="state error">{{ error() }}</div> }
</form>
